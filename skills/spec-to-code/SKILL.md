---
name: spec-to-code
description: 仕様駆動開発ワークフローのガイド。ユーザーが (1) 要件を明確化するための仕様インタビューを実施したい、(2) テスト駆動開発 (TDD) を実践したい、(3) 仕様からGitHub Issueを生成したい、(4) 要件から実装までの構造化された開発ワークフローを確立したい場合に使用します。言語・フレームワーク非依存。
---

# 仕様→コード 開発ワークフロー

仕様から実装までの包括的な開発ワークフローをガイドします。

## ワークフロー概要

```
1. 仕様インタビュー → 2. ドキュメント化 → 3. GitHub Issue → 4. TDD → 5. 実装
```

## 使用タイミング

- 新機能やプロジェクトを開始する時
- 要件が不明確な時
- TDDを実践したい時
- 構造化されたGitHub Issueを作成したい時

## 使用方法

### 1. 仕様インタビュー

**重要**: 仕様インタビューを実施する際は、**必ずAskUserQuestionToolを使って1問ずつ質問すること**。複数の質問を1つのメッセージにまとめないこと。

`references/spec_template.md` を読んで、以下について徹底的にインタビュー：
- 技術実装
- UI/UX考慮事項
- パフォーマンスとセキュリティ
- エッジケースとトレードオフ

**インタビューの進め方**:
1. spec_template.mdを読んで必要な情報を把握
2. AskUserQuestionToolで1つの質問をする
3. ユーザーの回答を待つ
4. 回答に基づいて次の質問をする
5. すべての重要な点をカバーするまで繰り返す
6. 自明な質問は避け、非自明な設計判断に焦点を当てる

**質問の流れの例**:
- "カートデータの永続化方法は？（Redisセッション vs データベース vs ハイブリッド）"
- [回答を待つ]
- "カート内の商品が在庫切れになった場合、どう処理する？"
- [回答を待つ]
- "カートデータの保持期間は？（セッションベース、30日、90日？）"

### 2. ドキュメント化とGitHub Issue生成

テンプレート構造を使用して仕様書を作成。決定事項と根拠を含める。

次に、仕様書から以下を含むGitHub Issueを生成：
- 受け入れ基準
- テストシナリオ
- 実装に必要なファイル一覧
- 技術的アプローチとトレードオフ

### 3. TDD実践

`references/tdd_guide.md` を読んでRed-Green-Refactorサイクルをガイド。

## 重要な原則

- **曖昧さより具体性**: 具体的な要件のみ
- **「なぜ」を記録**: 根拠が重要
- **テストファースト**: 実装前にテストを書く
- **言語非依存**: あらゆる技術スタックで動作
- **対話型インタビュー**: AskUserQuestionToolで1問ずつ質問

## リファレンス

- `references/spec_template.md` - 仕様インタビューテンプレート
- `references/tdd_guide.md` - TDDワークフローガイド
